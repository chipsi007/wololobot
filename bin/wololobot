#!/usr/bin/env node

// Use Bluebird promises everywhere
global.Promise = require('bluebird')

// Enable async functions
try {
  eval('async function a () {}')
} catch (_) {
  require('async-to-gen/register')
}

require('../src/cli')(...process.argv.slice(2))
  .then(() => {
    console.log('started')
  })
  .catch((err) => {
    process.nextTick(() => {
      throw err
    })
  })
